---
name: USENレジデータ参照の調査結果
overview: USENレジのデータを社員ポータルで参照できるか調査した結果をまとめ、現時点で可能な方法と、追加確認が必要な点を整理する。
todos: []
isProject: false
---

# USENレジ データ参照 — 調査結果

## 結論（短く）

- **公式に公開されている「自社システム用API」は見つかりませんでした。**
- **売上実績などは「管理画面から手動でCSV出力」すれば参照可能です。**  
そのCSVをポータルに取り込む形なら、**今のポータルだけで実装できます。**

---

## 1. 公式に分かっていること

### データの取り出し方（手動）


| データ種別       | 取り出し方法                           | 形式        |
| ----------- | -------------------------------- | --------- |
| 売上実績        | 管理画面「帳票管理」→「売上実績」で店舗・期間を指定して出力   | CSV / PDF |
| 売上データ（伝票単位） | 「帳票管理」→「汎用検索」で「売上データ(伝票)」を選択して出力 | CSV       |
| 提供時間データ     | 「帳票管理」→「汎用検索」で呼出システムのデータを選択      | CSV       |


いずれも**管理画面にログインして、画面操作でダウンロード**する方式です。  
「自動でAPI取得」という公式説明は検索では見つかっていません。

### 外部連携（公式に案内されているもの）

- **決まった連携先**のみ: freee、TableCheck、ebica予約台帳、弥生、FOOD連携など。
- これらは「USEN側が用意した連携」であり、**一般公開の開発者API**とは別です。

### 自社システム・APIについて

- 「USEN u-regi 開発者API」「自社システム連携のAPI仕様」といった**公開ドキュメントはヒットしませんでした。**
- 自社システムとつなぐ場合は、**USENのサポート・営業への問い合わせ**で、APIの有無・仕様・契約を確認する必要があります。

---

## 2. ポータルで「USENレジのデータを参照する」現実的なパターン

### パターンA: CSV取り込み（今のポータルだけで実装可能）

- 店長・本部が、USENレジの管理画面から**売上実績CSV（または伝票CSV）を手動ダウンロード**する。
- ポータルに**「USEN売上CSVアップロード」**のような画面を用意し、そのCSVをアップロードする。
- アップロードしたCSVを解析して保存し、**ダッシュボードで「売上速報」「目標比」**などを表示する。

**メリット:**  
公式APIがなくても、今の技術スタック（Next.js + `data/*.json` またはDB）の範囲で実装できる。  
AirシフトのCSV取り込みと同様の流れで統一できる。

**デメリット:**  
毎日/毎週など、**誰かが手動でCSVを落としてアップロードする運用**が必要。

### パターンB: 公式APIがあれば（要・USEN確認）

- USENに「自社の社員ポータルから売上データを参照したい」と問い合わせ、**APIやデータ連携の可否・仕様・契約**を確認する。
- APIが提供されている場合は、ポータルのバックエンドから**定期的にAPIを叩いてデータを取得**し、DBに保存してダッシュボードに表示する。

**メリット:**  
手動アップロードが不要になり、自動で最新データを参照できる可能性がある。

**デメリット:**  
APIの有無・コスト・契約が不明なため、**まずUSENへの問い合わせが必須**。

---

## 3. 推奨する進め方

1. **短期:**
  **パターンA（CSV取り込み）**で、  
  - 「USEN売上CSVアップロード」画面  
  - 取り込んだデータを使った「売上速報・目標比」などのダッシュボード表示  
   を設計・実装する。  
   （CSVの項目は、USENの「売上実績」や「売上データ(伝票)」の実際の出力形式を1回取得してから決める。）
2. **並行して:**
  USENのサポートまたは営業に、  
  - 「自社開発の社員ポータルから、売上データを自動取得するAPIはあるか」  
  - 「ある場合、仕様・利用条件・費用」  
   を問い合わせる。  
   APIが使えることが分かれば、その後パターンB（API連携）に拡張する。

---

## 4. まとめ


| 質問                 | 回答                                                                |
| ------------------ | ----------------------------------------------------------------- |
| USENレジのデータを参照できるか？ | **手動CSV出力なら可能。** 管理画面から売上実績などをCSVでダウンロードし、そのCSVをポータルに取り込む形で参照できる。 |
| APIで自動取得できるか？      | **公式の開発者APIは見つかっていない。** 利用するにはUSENへの問い合わせが必要。                     |
| 今のポータルだけでできること     | **CSVのアップロードと、そのデータを使ったダッシュボード表示**までなら、現状の技術で実装可能。                |


この方針で進める場合、次のステップは「USENの売上実績CSVを1回ダウンロードして、項目（列）を確認したうえで、ポータル側の取り込み仕様とダッシュボード表示項目を決める」ことになります。